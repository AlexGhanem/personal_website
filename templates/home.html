{%extends 'index.html'%}

{%block head%}
<title>Home</title>
{%endblock%}

{%block body%}
<div class="alert alert-warning alert-dismissable" role="alert">
    This website is under development
</div>
<div>
    <div id=video>
        <div class="row justify-content-center">
            <div class="col-auto">
                <h1 id="greet">{{ greeting }}</h1>
            </div>
        </div>
        <video autoplay muted loop id="myVideo">
            <source src="{{url_for('static', filename='/assets/video.mp4')}}" type="video/mp4">
        </video>
    </div>
    <div class='container home_cont'>
        <section class="py-2 text-center container" id='projects'>
            <div class="row py-lg-5">
                <div class="col-lg-6 col-md-8 mx-auto">
                    <h1 class="fw-light">Projects Collection</h1>
                    <p class="lead text-muted">
                        A growing collection of my coding projects.
                        <br>
                        Some of the projects take some time to load.
                    </p>
                    <p>
                        <a href="https://github.com/AlexGhanem" class="btn btn-secondary my-2" target='_blank'>My
                            Github</a>
                        <!-- <a href="#" class="btn btn-secondary my-2">Secondary action</a> -->
                    </p>
                </div>
            </div>
        </section>

        <div class="row mx-auto my-auto justify-content-center">
            <div id="recipeCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval='3000'>
                <div class="carousel-inner" role="listbox">
                    <div class="carousel-item active">
                        <div class="col-md-3">
                            <div class="card shadow-sm proj">
                                <div class="img__description">
                                    <div class='desc_cont'>
                                        <p class='desc'>
                                        <h4>{{projects[0].title}}</h4>
                                        <br>
                                        <p class='caption'>{{projects[0].description}}</p>
                                        </p>
                                    </div>
                                    <div class="justify-content-between align-items-center btns">
                                        <div class="btn-group mb-2 ms-2 bottom-0 start-0 position-absolute">
                                            <button type="button" class="btn alight-self-end btn-primary view"
                                                onclick="window.open('{{projects[0].link}}','_blank')">View
                                                Project
                                            </button>
                                            {%if projects[0].github != none%}
                                            <button type="button" class="btn btn-secondary"
                                                onclick="window.open('{{projects[0].github}}','_blank')">
                                                <i class="git-icon"></i>
                                            </button>
                                            {%endif%}
                                        </div>
                                        {%if projects[0].small_text != none%}
                                        <small class="text-muted">{{projects[0]['small_text']}}</small>
                                        {%endif%}
                                    </div>
                                </div>
                                <div class='card-img'>
                                    <img class='img-top img-fluid' src={{projects[0].img}} alt='photo' id="thumbnail">
                                </div>
                            </div>
                        </div>
                    </div>
                    {%for project in projects[1:]%}
                    <div class="carousel-item">
                        <div class="col-md-3">
                            <div class="card shadow-sm proj">
                                <div class="img__description">
                                    <div class="desc_cont">
                                        <p class='desc'>
                                        <h4 class='proj_title'>{{project.title}}</h4>
                                        <p class='caption'>{{project.description}}</p>
                                        </p>
                                    </div>
                                    <div class="justify-content-between align-items-center btns">
                                        <div class="btn-group mb-2 ms-2 bottom-0 start-0 position-absolute">
                                            <button type="button" class="btn alight-self-end btn-primary view"
                                                onclick="window.open('{{project.link}}','_blank')">View
                                                Project
                                            </button>
                                            {%if projects[0].github != none%}
                                            <button type="button" class="btn btn-secondary"
                                                onclick="window.open('{{project.github}}','_blank')">
                                                <i class="git-icon"></i>
                                            </button>
                                            {%endif%}
                                        </div>
                                        {%if projects[0].small_text != none%}
                                        <small class="text-muted">{{project['small_text']}}</small>
                                        {%endif%}
                                    </div>
                                </div>
                                <div class='card-img'>
                                    <img class='img-top img-fluid' src={{project.img}} alt='photo' id="thumbnail">
                                </div>
                            </div>
                        </div>
                    </div>
                    {%endfor%}
                </div>
                <a class="carousel-control-prev carousel-control bg-transparent w-aut" href="#recipeCarousel"
                    role="button" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </a>
                <a class="carousel-control-next carousel-control bg-transparent w-aut" href="#recipeCarousel"
                    role="button" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </a>
            </div>
        </div>
    </div>
    <footer class="footer mt-auto bg-light">
        <div id="foot_cont" class="container-fluid pb-0 mb-0 justify-content-center text-light ">
            <div class="row my-5 justify-content-center py-5">
                <div class="col-11">
                    <div class="row ">
                        <div class="col-xl-8 col-md-4 col-sm-4 col-12 my-auto mx-auto a">
                            <h3 id='foot_name' class="text-muted mb-md-0 mb-5 bold-text">Alex's World.</h3>
                        </div>
                        <div class="col-xl-2 col-md-4 col-sm-4 col-12">
                            <h6 class="mb-3 mb-lg-4 bold-text "><b>MENU</b></h6>
                            <ul class="list-unstyled">
                                <li><a href=#video>Home</a></li>
                                <li><a href='#projects'> Projects</a></li>
                                <li></li>
                                <li></li>
                            </ul>
                        </div>
                        <div class="col-xl-2 col-md-4 col-sm-4 col-12">
                            <h6 class="mb-3 mb-lg-4 text-muted bold-text mt-sm-0 mt-5"><b>ADDRESS</b></h6>
                            <p class="mb-1">Washginton, D.C.</p>
                            <p>20011</p>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-xl-8 col-md-4 col-sm-4 col-auto my-md-0 mt-5 order-sm-1 order-3 align-self-end">
                            <p class="social text-muted mb-0 pb-0 bold-text">
                                <!-- <span class="mx-2"><i class="fab fa-facebook" aria-hidden="true"></i></span>
                                <span class="mx-2"><i class="fab fa-linkedin" aria-hidden="true"></i></span>
                                <span class="mx-2"><i class="fab fa-twitter" aria-hidden="true"></i></span>
                                <span class="mx-2"><i class="fab fa-instagram" aria-hidden="true"></i></span> -->
                            </p>
                            <small class="rights"><span>&#174;</span> MIT Licence, 2021</small>
                        </div>
                        <div class="col-xl-2 col-md-4 col-sm-4 col-auto order-1 align-self-end ">
                            <h6 class="mt-55 mt-2 text-muted bold-text"><b>Alex Ben Ghanem</b></h6><small> <span><i
                                        class="fas fa-envelope" aria-hidden="true"></i></span>
                                alexbghanem@gmail.com</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</div>


<script>
    let items = document.querySelectorAll('.carousel .carousel-item')

    items.forEach((el) => {
        const minPerSlide = 4
        let next = el.nextElementSibling
        for (var i = 1; i < minPerSlide; i++) {
            if (!next) {
                next = items[0]
            }
            let cloneChild = next.cloneNode(true)
            el.appendChild(cloneChild.children[0])
            next = next.nextElementSibling
        }
    })

</script>

{%endblock%}